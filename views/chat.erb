<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Sinatra realtime chat</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
    </style>
    <link href="/bower/foundation/css/foundation.css" rel="stylesheet">
    <link href="/stylesheets/application.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>

  <body ng-app="ChatApp">
    <nav class="top-bar"></nav>
    <div class="row full-width">
      <div class="large-3 medium-3 columns users" ng-controller="UserController">
        <ul class="side-nav">
          <li ng-repeat="user in users"><a href="#">{{user.username}}</a></li>
        </ul>
      </div>

      <div class="large-9 medium-9 columns chat" ng-controller="ChatController">
        <div class="messages" scroll-glue>
          <div class="msg row" ng-repeat="msg in messages">
            <div class="owner small-2 columns">{{msg.owner}}</div>
            <div class="content small-10 columns">
              <div class="row">
                <div class="body small-10 columns" ng-bind-html="msg.body | giffy:'_blank'"></div>
                <div class="timestamp small-2 columns">
                  {{msg.created_at}}
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="message-input">
          <textarea ng-model="message" ng-enter="sendMessage()"></textarea>
          <button ng-click="sendMessage()">Send</button>
        </div>
      </div>
    </div>
    <script src="/bower/jquery/dist/jquery.js"></script>
    <script src="/bower/angular/angular.js"></script>
    <script src="/bower/angularjs-scroll-glue-Luegg/src/scrollglue.js"></script>
    <script src="/bower/angular-sanitize/angular-sanitize.js"></script>
    <script src="/javascripts/application.js"></script>
  </body>
</html>
